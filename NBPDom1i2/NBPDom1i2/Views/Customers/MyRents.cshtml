@model List<NBPDom1i2.Models.MyRentMovie>
@{
    ViewBag.Title = "MyRents";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">
    <h2>My Rents</h2>
    <div class="row">
        <div class="col-sm-8">
            <table id="movies" class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Rented on</th>
                        <th>Expires on</th>
                        <th>Returned on</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < Model.Count; i++)
                    {
                    <tr>
                        <td>
                            @Model[i].rentedtitle
                        </td>
                        <td>
                            @Model[i].rentedon
                        </td>
                        <td>@Model[i].expiry</td>
                        <td>@Model[i].returnedon</td>
                        @if (Model[i].returnedon == "")
                        {
                        <td>
                            @using (Html.BeginForm("ReturnMovie", "Movies"))
                            {
                                <input type="hidden" value="@Model[i].rentedon" name="RentedOn" />
                                <input type="hidden" value="@Model[i].rentedtitle" name="RentedTitle" />
                                <button type="submit" class="btn btn-primary">Return</button>
                            }
                        </td>
                        }

                    </tr>
                        
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>